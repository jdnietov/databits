<template name="cards">
  {{#unless steps}}
    <div class="text">
      ¡No tienes todavía lugares para tu itinerario!<br>
      Selecciona uno de los lugares disponibles o crea tu propio lugar y haz clic en <b>Agregar</b> para adicionarlo.
    </div>
  {{/unless}}

  <div id="sortable-cards">
    {{#each steps}}
    <div class="ui link {{this.type}} fluid card" data-step="{{@index}}">
      <div class="main content">
        <i class="right floated remove icon" data-step="{{@index}}"></i>
        <div class="header">
          {{getIndex @index}}. {{this.name}}
        </div>
        <div class="meta">
          <div class="ui {{this.type}} horizontal label">
            <!-- <i class="hotel icon"></i> -->
            {{beautifyType this.type}}
          </div>
          <b>{{this.address}}</b>
        </div>
      </div>
      <div class="extra content" style="color:rgba(0, 0, 0, 0.85); font-size:1.3em">
        <b>{{this.time}}</b>
        <span class="right floated">
          <b>$ {{this.price}}</b>
        </span>
      </div>
    </div>
    {{/each}}
  </div>

  <div class="ui green compact message">
    Precio Total: $ {{totalPrice}}<br>
    Tiempo total: {{totalTime}}
  </div>
  {{#if steps}}
  <div class="ui green end steps right floated button">
    Finalizar
  </div>
  {{/if}}
</template>

<template name="cardsModal">
  <div class="header">
    Finalizar tu itinerario
  </div>
  <div class="content">
    <div class="description">
      <p>
        Verifica lo que ingresaste. <b>¿Es éste tu itinerario?</b><br/>
        Si así es,
        {{#if currentUser}}
        presiona "Continuar" para guardar tu itinerario en tu cuenta y que puedas
        acceder a él cuando quieras.
        {{else}}
        ingresa aquí un correo electrónico a donde podamos enviarlo para llevarlo a donde necesites. <br><br>

        <form class="ui form">
          <div class="field">
            <input type="text" class="ui send email input" placeholder="Correo electrónico...">
            {{#if isEmailInvalid}}
            <div class="ui pointing red basic label">
              Ingresa un correo electrónico válido (ej. micorreo@electronico.com).
            </div>
            {{/if}}
          </div>
        </form>
        {{/if}}
      </p>

      <div class="ui divided items">
        {{#each steps}}
        <div class="item">
          <div class="image" style="width:20px; margin-top:10px;">
            <img class="ui left floated image" src="/markers/{{getPinImgName this.type}}-pin.png" style="width:20px;">
          </div>
          <div class="content">
            <div class="{{this.type}} meta">
              {{beautifyType this.type}}
            </div>
            <div class="header">
               {{this.name}}
            </div>
            <div class="description">
              ${{this.price}} - {{this.hours}}h {{this.minutes}}m de recorrido
            </div>
          </div>
        </div>
        {{/each}}
        <div class="item">
          <div class="content">
            <div class="right floated header">
               Total: ${{totalPrice}}
            </div>
          </div>
        </div>
      </div>

      <button class="ui yep positive right labeled icon button right floated">
        Continuar
        <i class="checkmark icon"></i>
      </button>
    </div>
  </div>
</template>
